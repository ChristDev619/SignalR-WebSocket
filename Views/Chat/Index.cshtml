@page
@model SignalR_WebSocket_MSSQL.Models.ChatMessage
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
        <h3>Real-Time Chat</h3>
    </div>
    <div class="card-body">
        <form id="chatForm" class="row g-3" asp-controller="Chat" asp-action="Create" method="post">
            <div class="col-md-4">
                @Html.TextBoxFor(m => m.User, new { @class = "form-control", placeholder = "Your name" })
                @Html.ValidationMessageFor(m => m.User, "", new { @class = "text-danger" })
            </div>
            <div class="col-md-6">
                @Html.TextBoxFor(m => m.Message, new { @class = "form-control", placeholder = "Type a message" })
                @Html.ValidationMessageFor(m => m.Message, "", new { @class = "text-danger" })
            </div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-success w-100">Send</button>
            </div>
        </form>
    </div>
    <div class="card-footer">
        <ul id="messagesList" class="list-group"></ul>
    </div>
</div>

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/7.0.3/signalr.min.js"></script>
    <script src="~/js/chat.js"></script>
}
